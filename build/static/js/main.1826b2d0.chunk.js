(this.webpackJsonpunion=this.webpackJsonpunion||[]).push([[0],{137:function(e,t,n){e.exports=n(277)},159:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c);n(142),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(133),i=n(9),s=n(6),l=n.n(s),p=n(26),f=n(118),d=n(41),m=n(23),v=n(280),h=n(282),b=n(54),g=n(36),E=n(283),x=n(90),y=n(281),j=n(128),w=n.n(j),O=n(63),k=n(64);function S(){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("".concat(k.baseURL,"/enquetes"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var L=n(63),q=n(64);function F(){return H.apply(this,arguments)}function H(){return(H=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("".concat(q.baseURL,"/perguntas"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var U=n(63),R=n(64);function z(e,t){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("".concat(R.baseURL,"/convidados/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.get("".concat(R.baseURL,"/convidados"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function N(e,t){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.put("".concat(R.baseURL,"/convidados/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var J=n(63),W=n(64);function T(e,t){return K.apply(this,arguments)}function K(){return(K=Object(m.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.post("".concat(W.baseURL,"/votos/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(159);var M=v.a.Header;function Q(e){var t=e.registro,n=t.convidado,a=t.enquete,c=function(){var e=Object(m.a)(l.a.mark((function e(){var t,r,c,o,u,i,s,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.idConvidado,r=a.perguntas,e.next=4,N(t,Object(d.a)(Object(d.a)({},n),{},{status:"votou"}));case 4:if(!e.sent){e.next=24;break}c=Object(f.a)(r),e.prev=7,c.s();case 9:if((o=c.n()).done){e.next=16;break}return u=o.value,i=u.favoritos.filter((function(e){return e&&e.selecionado})),s=Object(p.a)(i,1),m=s[0],e.next=14,T(u.idPergunta,{convidado:{idConvidado:t},favorito:{idFavorito:m.idFavorito},pergunta:{idPergunta:m.idPergunta}});case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:window.location.href="/agradecimento";case 25:case"end":return e.stop()}}),e,null,[[7,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{mode:"horizontal",style:{borderBottom:"5px #ff4646 solid"}},r.a.createElement(b.a,null,r.a.createElement(g.a,{md:5},r.a.createElement("div",{className:"logo"})),r.a.createElement(g.a,{md:14},r.a.createElement(E.a,{percent:e.progresso,status:"active",strokeColor:"#FF7676"})),r.a.createElement(g.a,{md:4,style:{textAlign:"right"}},r.a.createElement(x.a,{disabled:e.disabledButton,style:{backgroundColor:"#ff4646",borderColor:"#ff4646"},onClick:Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)})))},"Enviar Enquete"))))}var V=function(e){var t=Object(a.useState)(0),n=Object(p.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(0),i=Object(p.a)(u,2),s=i[0],f=i[1],v=Object(a.useState)([]),h=Object(p.a)(v,2),E=h[0],x=h[1],j=Object(a.useState)({}),O=Object(p.a)(j,2),k=O[0],C=O[1],L=function(e){for(var t=[],n=0;n<4;n++)t.push(e["favorito".concat(n+1)]);return Object(d.a)(Object(d.a)({},e),{},{favoritos:t})},q=function(){var e=Object(m.a)(l.a.mark((function e(){var t,n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("idConvidado"),e.next=3,P();case 3:n=e.sent,a=n.filter((function(e){return e.idConvidado.toString()===t})),r=Object(p.a)(a,1),c=r[0],C(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var t=Object(m.a)(l.a.mark((function t(){var n,a,r,c,o,u,i,s,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e&&e.location.search.split("="),a=Object(p.a)(n,2),r=a[1],t.next=3,S();case 3:return c=t.sent,t.next=6,F();case 6:o=t.sent,u=c.filter((function(e){return e.idEnquete.toString()===r})),i=Object(p.a)(u,1),s=i[0],m=o.filter((function(e){return e.enquete.idEnquete.toString()===r})),x(Object(d.a)(Object(d.a)({},s),{},{perguntas:m.length>0&&m.map(L)})),f(100/m.length);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=r.a.useState(),R=Object(p.a)(U,2)[1],z=r.a.useCallback((function(){return R({})}),[]);return Object(a.useEffect)((function(){H(),q()}),[]),r.a.createElement(a.Fragment,null,r.a.createElement(Q,{progresso:c,disabledButton:c<100,registro:{convidado:k,enquete:E}}),r.a.createElement(M,{style:{backgroundColor:"#fff",textAlign:"center",height:"100px",boxShadow:"2px 5px #f4f4f4"}},r.a.createElement("h1",null,"Seja Bem Vindo ",k&&k.nome)),E&&E.perguntas&&E.perguntas.map((function(e){return r.a.createElement(a.Fragment,null,r.a.createElement("h1",{style:{marginLeft:"17%",marginTop:"40px"}},e.perguntaEscrita),r.a.createElement(b.a,{style:{marginLeft:"17%"}},e.favoritos.map((function(t){return r.a.createElement(a.Fragment,{style:{marginLeft:"30px"}},t&&r.a.createElement(g.a,{style:{marginRight:"30px"}},r.a.createElement(y.a,{hoverable:!t.selecionado,className:t.selecionado?"clicado":"",style:{width:240},cover:r.a.createElement("img",{style:{width:240,height:180},alt:"example",src:t.servico.urlImagem}),onClick:function(){e.favoritos=function(e,t){return e.favoritos.map((function(e){return null!==e?Object(d.a)(Object(d.a)({},e),{},{selecionado:t.idFavorito===e.idFavorito}):null}))}(e,t),o(E.perguntas.filter((function(e){return e.favoritos.map((function(e){return e&&e.selecionado})).includes(!0)})).map((function(e){return s})).reduce((function(e,t){return e+t}))),z()},type:"primary"},r.a.createElement(w.a,{title:t.servico.descricao}))))}))))})))},X=n(284),Z=n(130),$=n.n(Z),D=v.a.Sider,G=v.a.Content;var Y=function(e){var t=Object(a.useState)({}),n=Object(p.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(""),i=Object(p.a)(u,2),s=i[0],f=i[1],d=Object(a.useState)(!1),h=Object(p.a)(d,2),E=h[0],y=h[1],j=function(){var t=Object(m.a)(l.a.mark((function t(){var n,a,r,c,u,i,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:n=t.sent,a=e&&e.location.search.split("="),r=Object(p.a)(a,2),(c=r[1])?(u=n.filter((function(e){return e.idEnquete.toString()===c})),i=Object(p.a)(u,1),s=i[0],o(s),y(!1)):y(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.usuario.idUsuario,e.next=3,z(t,{nome:s,status:"votando",data:$()(),usuario:{idUsuario:t}});case 3:(n=e.sent)&&(window.location.href="/enquete?id=".concat(c.idEnquete),localStorage.setItem("idConvidado",n.idConvidado));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),r.a.createElement(v.a,{style:{minHeight:"100vh"}},r.a.createElement(v.a,{style:{minHeight:"100vh"}},r.a.createElement(G,{style:{minHeight:"100vh"}},r.a.createElement(b.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},r.a.createElement(g.a,{xs:20,md:12},r.a.createElement("h2",null,"Convidado do casal:"),r.a.createElement("h2",null,c.tituloEnquete),r.a.createElement(X.a,{placeholder:"Nome",value:s,onChange:function(e){var t=e.target.value;return f(t)},disabled:E}),r.a.createElement(x.a,{style:{marginTop:"20px",marginLeft:"50px",backgroundColor:"#ff4646",borderColor:"#ff4646"},type:"primary",onClick:Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)}))),disabled:E},"Entrar"))))),r.a.createElement(D,{width:"75%",style:{background:"url(https://i.imgur.com/wJLKOub.jpg) no-repeat",backgroundSize:"cover"},breakpoint:"md",collapsedWidth:"0"}))},_=v.a.Sider,ee=v.a.Content;var te=function(){return r.a.createElement(v.a,{style:{minHeight:"100vh"}},r.a.createElement(v.a,{style:{minHeight:"100vh"}},r.a.createElement(ee,{style:{minHeight:"100vh"}},r.a.createElement(b.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},r.a.createElement(g.a,{xs:20,md:15},r.a.createElement("h2",{style:{fontSize:"30px"}},"Obrigado pela"),r.a.createElement("h2",{style:{fontSize:"30px"}},"sua opni\xe3o!"),r.a.createElement("br",null),r.a.createElement("h4",{style:{fontSize:"15px"}},"Ajudar os noivos desse momento \xe9 bem ",r.a.createElement("br",null),"importante. Mantenha contato com eles. Agora ",r.a.createElement("br",null),"\xe9 so aguentar o t\xe3o esperado dia do ",r.a.createElement("br",null),"casamento!"),r.a.createElement("br",null),r.a.createElement(x.a,{style:{marginTop:"20px",marginLeft:"50px",backgroundColor:"#ff4646",borderColor:"#ff4646"},type:"primary",onClick:function(){window.location.href="https://www.google.com/"}},"Pagina Inicial!"))))),r.a.createElement(_,{width:"55%",style:{background:"url(https://i.imgur.com/XNQ0PKZ.png) no-repeat",backgroundSize:"cover",backgroundPosition:"center"},breakpoint:"md",collapsedWidth:"0"}))},ne=function(e){return r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:Y}),r.a.createElement(i.b,{exact:!0,path:"/enquete",component:V}),r.a.createElement(i.b,{exact:!0,path:"/agradecimento",component:te}),r.a.createElement(i.a,{from:"*",to:"/"}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e){e.exports=JSON.parse('{"baseURL":"https://appunionapi.herokuapp.com"}')}},[[137,1,2]]]);
//# sourceMappingURL=main.1826b2d0.chunk.js.map